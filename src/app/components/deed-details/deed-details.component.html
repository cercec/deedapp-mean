<div *ngIf="deed">
<app-navbar></app-navbar>
<div class="d-flex flex-column actions">     
    <div *ngIf="term">
        <a mat-fab matTooltip="Back to results" matTooltipPosition="before" matTooltipClass="'tooltip'" class="mb-2 basic" routerLink="/search" [queryParams]="{resultFor: term}">
            <mat-icon class="md-dark">arrow_back</mat-icon>
        </a>
    </div>
    <a mat-fab routerLink="/deed/edit/{{ deed._id }}" color="primary" matTooltip="Edit the deed" matTooltipPosition="before" matTooltipClass="'tooltip'" class="mb-2">
        <mat-icon class="md-light">mode_edit</mat-icon>
    </a>
    <a mat-fab matTooltip="Download the deed" matTooltipPosition="before" matTooltipClass="'tooltip'" class="mb-2 basic" [href]="downloadUri" [download]="downloadName">
        <mat-icon class="md-dark">file_download</mat-icon>
    </a>
    <button mat-fab type="button" class="mb-2 basic" (click)="onDeleteClick(deed._id)" matTooltip="Delete the deed" matTooltipPosition="before" matTooltipClass="'tooltip'">
        <mat-icon class="md-dark">delete</mat-icon>
    </button>
</div>

<div class="container main-container">
   
    <!-- ALERTE MORE DATA -->
    <div *ngIf="deed.complete === false" class="card shadow bg-yellow-500 mb-3 p-3 text-center"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> There is more data in the manuscript</div>
    
    <!-- DEED INFORMATION -->
    <div class="card shadow mb-3">
        <div class="card-body">
            <div class="text-center">
                <h4><i class="fa fa-info-circle"></i> Deed Information</h4>
                <hr class="mt-2 mb-2">
            </div>
            <div class="row">
                <div class="col-3">Code:<span class="form-data" [innerHTML]="deed.deedCode | highlight: term"></span></div>
                <div class="col-3">Reference:<span class="form-data" [innerHTML]="deed.deedRef | highlight: term"></span></div>
                <div *ngIf="deed.deedDate.day || deed.deedDate.month || deed.deedDate.year" class="col-3">Date:
                    <span class="form-data">
                        <span *ngIf="deed.deedDate.day" [innerHTML]="deed.deedDate.day | highlight: term">-</span>
                        <span *ngIf="deed.deedDate.month" [innerHTML]="deed.deedDate.month | highlight: term">-</span>
                        <span *ngIf="deed.deedDate.year" [innerHTML]="deed.deedDate.year | highlight: term"></span>
                    </span>
                </div>
                <div *ngIf="deed.deedLanguage" class="col-3">Language:<span class="form-data" [innerHTML]="deed.deedLanguage | highlight: term"></span></div>
                <div *ngIf="deed.deedName" class="col">Name:<span class="form-data" [innerHTML]="deed.deedName | highlight: term"></span></div>
            </div>
        </div>
    </div>

    <!-- CONTRACTING PARTIES -->
    <div class="card shadow mb-3">
        <div class="card-body">
            <div class="text-center">
                <h4><i class="fa fa-users"></i> Contracting Parties</h4>
                <hr class="mt-2 mb-2">
            </div>

            <!-- AGENT & COUNTER AGENT-->
            <div class="row">
                <div class="col">
            <div *ngIf="deed.agentSex" class="card mb-3">
                <div class="card-header">
                    <h4 class="text-center">Agent 
                        <span *ngIf="deed.agentSex" [ngSwitch]="deed.agentSex">
                            <span *ngSwitchCase="'male'">(M)</span>
                            <span *ngSwitchCase="'female'">(F)</span>
                            <span *ngSwitchCase="'body-corporate'">(B-C)</span>
                        </span>
                    </h4>
                </div>
                <div class="card-body">
                    <ul class="list-group">
                        <div [ngSwitch]="deed.agentSex">
                            <div *ngSwitchCase="'male'">
                                <li *ngIf="deed.agent.geogrStatus" class="list-group-item">Geogr Status:<span class="form-data" [innerHTML]="deed.agent.geogrStatus | highlight: term"></span></li>
                                <li *ngIf="deed.agent.socialStatus" class="list-group-item">Social Status:<span class="form-data" [innerHTML]="deed.agent.socialStatus | highlight: term"></span></li>
                                <li *ngIf="deed.agent.firstName" class="list-group-item">First Name:<span class="form-data" [innerHTML]="deed.agent.firstName | highlight: term"></span></li>
                                <li *ngIf="deed.agent.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="deed.agent.patronyme | highlight: term"></span></li>
                                <li *ngIf="deed.agent.lastName" class="list-group-item">Last Name:<span class="form-data" [innerHTML]="deed.agent.lastName | highlight: term"></span></li>
                                <li *ngIf="deed.agent.relatedTo" class="list-group-item">Related To:<span class="form-data" [innerHTML]="deed.agent.relatedTo | highlight: term"></span></li>
                            </div>
                            <div *ngSwitchCase="'female'">
                                <li *ngIf="deed.agent.familyStatus" class="list-group-item">Family Status:<span class="form-data" [innerHTML]="deed.agent.familyStatus | highlight: term"></span></li>
                                <li *ngIf="deed.agent.firstName" class="list-group-item">First Name:<span class="form-data" [innerHTML]="deed.agent.firstName | highlight: term"></span></li>
                                <li *ngIf="deed.agent.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="deed.agent.patronyme | highlight: term"></span></li>
                                <li *ngIf="deed.agent.relatedTo" class="list-group-item">Related To:<span class="form-data" [innerHTML]="deed.agent.relatedTo | highlight: term"></span></li>
                                <div *ngIf="deed.agent.referentMale" class="card mb-3">
                                    <div class="card-header">
                                        <h5 class="text-center">Referent Male</h5>
                                    </div>
                                    <div class="card-body">
                                        <ul class="list-group">
                                            <li *ngIf="deed.agent.referentMale.relationshipToAgent" class="list-group-item">Relationship To Agent:<span class="form-data" [innerHTML]="deed.agent.referentMale.relationshipToAgent | highlight: term"></span></li>
                                            <li *ngIf="deed.agent.referentMale.geogrStatus" class="list-group-item">Geogr Status:<span class="form-data" [innerHTML]="deed.agent.referentMale.geogrStatus | highlight: term"></span></li>
                                            <li *ngIf="deed.agent.referentMale.socialStatus" class="list-group-item">Social Status:<span class="form-data" [innerHTML]="deed.agent.referentMale.socialStatus | highlight: term"></span></li>
                                            <li *ngIf="deed.agent.referentMale.firstName" class="list-group-item">First Name:<span class="form-data" [innerHTML]="deed.agent.referentMale.firstName | highlight: term"></span></li>
                                            <li *ngIf="deed.agent.referentMale.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="deed.agent.referentMale.patronyme | highlight: term"></span></li>
                                            <li *ngIf="deed.agent.referentMale.lastName" class="list-group-item">Last Name:<span class="form-data" [innerHTML]="deed.agent.referentMale.lastName | highlight: term"></span></li>
                                            <li *ngIf="deed.agent.referentMale.relatedTo" class="list-group-item">Related To:<span class="form-data" [innerHTML]="deed.agent.referentMale.relatedTo | highlight: term"></span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div *ngSwitchCase="'body-corporate'">
                                <li *ngIf="deed.agent.geogrStatus" class="list-group-item">Geogr Status:<span class="form-data" [innerHTML]="deed.agent.geogrStatus | highlight: term"></span></li>
                                <li *ngIf="deed.agent.socialStatus" class="list-group-item">Social Status:<span class="form-data" [innerHTML]="deed.agent.socialStatus | highlight: term"></span></li>
                                <li *ngIf="deed.agent.otherSocialStatus" class="list-group-item">Other Social Status:<span class="form-data" [innerHTML]="deed.agent.otherSocialStatus | highlight: term"></span></li>
                                <li *ngIf="deed.agent.corporationName" class="list-group-item">Corporation Name:<span class="form-data" [innerHTML]="deed.agent.corporationName | highlight: term"></span></li>
                                <li *ngIf="deed.agent.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="deed.agent.patronyme | highlight: term"></span></li>
                                <li *ngIf="deed.agent.nbParticipants" class="list-group-item">Number Of Participants:<span class="form-data" [innerHTML]="deed.agent.nbParticipants | highlight: term"></span></li>
                                <li *ngIf="deed.agent.names" class="list-group-item">Names:<span class="form-data" [innerHTML]="deed.agent.names | highlight: term"></span></li>
                            </div>
                        </div>
                    </ul>
                </div>
            </div>
        </div>
            <div class="col">
            <div *ngIf="deed.counterAgentSex" class="card mb-3">
                    <div class="card-header">
                        <h4 class="text-center">Counter-Agent 
                            <span *ngIf="deed.counterAgentSex" [ngSwitch]="deed.counterAgentSex">
                                <span *ngSwitchCase="'male'">(M)</span>
                                <span *ngSwitchCase="'female'">(F)</span>
                                <span *ngSwitchCase="'body-corporate'">(B-C)</span>
                            </span>
                        </h4>
                    </div>
                    <div class="card-body">
                        <ul class="list-group">
                            <div [ngSwitch]="deed.counterAgentSex">
                                <div *ngSwitchCase="'male'">
                                    <li *ngIf="deed.counterAgent.geogrStatus" class="list-group-item">Geogr Status:<span class="form-data" [innerHTML]="deed.counterAgent.geogrStatus | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.socialStatus" class="list-group-item">Social Status:<span class="form-data" [innerHTML]="deed.counterAgent.socialStatus | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.firstName" class="list-group-item">First Name:<span class="form-data" [innerHTML]="deed.counterAgent.firstName | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="deed.counterAgent.patronyme | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.lastName" class="list-group-item">Last Name:<span class="form-data" [innerHTML]="deed.counterAgent.lastName | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.relatedTo" class="list-group-item">Related To:<span class="form-data" [innerHTML]="deed.counterAgent.relatedTo | highlight: term"></span></li>
                                </div>
                                <div *ngSwitchCase="'female'">
                                    <li *ngIf="deed.counterAgent.familyStatus" class="list-group-item">Family Status:<span class="form-data" [innerHTML]="deed.counterAgent.familyStatus | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.firstName" class="list-group-item">First Name:<span class="form-data" [innerHTML]="deed.counterAgent.firstName | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="deed.counterAgent.patronyme | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.relatedTo" class="list-group-item">Related To:<span class="form-data" [innerHTML]="deed.counterAgent.relatedTo | highlight: term"></span></li>
                                    <div *ngIf="deed.counterAgent.referentMale" class="card mb-3">
                                        <div class="card-header">
                                            <h5 class="text-center">Referent Male</h5>
                                        </div>
                                        <div class="card-body">
                                            <ul class="list-group">
                                                <li *ngIf="deed.counterAgent.referentMale.relationshipToAgent" class="list-group-item">Relationship To Agent:<span class="form-data" [innerHTML]="deed.counterAgent.referentMale.relationshipToAgent | highlight: term"></span></li>
                                                <li *ngIf="deed.counterAgent.referentMale.geogrStatus" class="list-group-item">Geogr Status:<span class="form-data" [innerHTML]="deed.counterAgent.referentMale.geogrStatus | highlight: term"></span></li>
                                                <li *ngIf="deed.counterAgent.referentMale.socialStatus" class="list-group-item">Social Status:<span class="form-data" [innerHTML]="deed.counterAgent.referentMale.socialStatus | highlight: term"></span></li>
                                                <li *ngIf="deed.counterAgent.referentMale.firstName" class="list-group-item">First Name:<span class="form-data" [innerHTML]="deed.counterAgent.referentMale.firstName | highlight: term"></span></li>
                                                <li *ngIf="deed.counterAgent.referentMale.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="deed.counterAgent.referentMale.patronyme | highlight: term"></span></li>
                                                <li *ngIf="deed.counterAgent.referentMale.lastName" class="list-group-item">Last Name:<span class="form-data" [innerHTML]="deed.counterAgent.referentMale.lastName | highlight: term"></span></li>
                                                <li *ngIf="deed.counterAgent.referentMale.relatedTo" class="list-group-item">Related To:<span class="form-data" [innerHTML]="deed.counterAgent.referentMale.relatedTo | highlight: term"></span></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div *ngSwitchCase="'body-corporate'">
                                    <li *ngIf="deed.counterAgent.geogrStatus" class="list-group-item">Geogr Status:<span class="form-data" [innerHTML]="deed.counterAgent.geogrStatus | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.socialStatus" class="list-group-item">Social Status:<span class="form-data" [innerHTML]="deed.counterAgent.socialStatus | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.otherSocialStatus" class="list-group-item">Other Social Status:<span class="form-data" [innerHTML]="deed.counterAgent.otherSocialStatus | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.corporationName" class="list-group-item">Corporation Name:<span class="form-data" [innerHTML]="deed.counterAgent.corporationName | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="deed.counterAgent.patronyme | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.nbParticipants" class="list-group-item">Number Of Participants:<span class="form-data" [innerHTML]="deed.counterAgent.nbParticipants | highlight: term"></span></li>
                                    <li *ngIf="deed.counterAgent.names" class="list-group-item">Names:<span class="form-data" [innerHTML]="deed.counterAgent.names | highlight: term"></span></li>
                                </div>
                            </div>
                        </ul>
                    </div>
                </div>
            </div>
            </div>
            <!-- COAGENTS -->
            <div *ngIf="deed.coAgents.length > 0" class="card mb-3">
                <div class="card-header">
                    <div class="row justify-content-center">
                        <div class="col-4">
                            <h4 class="text-center">Co Contracting Parties</h4>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <ng-template ngFor let-coAgent [ngForOf]="deed.coAgents" let-i="index">
                            <h5 class="text-center">Co-Agent {{i + 1}} 
                                <span *ngIf="coAgent.coAgentSex" [ngSwitch]="coAgent.coAgentSex">
                                    <span *ngSwitchCase="'male'">(M)</span>
                                    <span *ngSwitchCase="'female'">(F)</span>
                                    <span *ngSwitchCase="'body-corporate'">(B-C)</span>
                                </span>
                            </h5>
                            <div [ngSwitch]="coAgent.coAgentSex">
                                    <div *ngSwitchCase="'male'" class="row no-gutters mb-3">
                                        <div class="col-6">
                                            <div *ngIf="coAgent.coAgent.geogrStatus" class="list-group-item">Geogr Status:<span class="form-data" [innerHTML]="coAgent.coAgent.geogrStatus | highlight: term"></span></div>
                                            <div *ngIf="coAgent.coAgent.firstName" class="list-group-item">First Name:<span class="form-data" [innerHTML]="coAgent.coAgent.firstName | highlight: term"></span></div>
                                            <div *ngIf="coAgent.coAgent.lastName" class="list-group-item">Last Name:<span class="form-data" [innerHTML]="coAgent.coAgent.lastName | highlight: term"></span></div>
                                        </div>
                                        <div class="col-6">
                                            <div *ngIf="coAgent.coAgent.socialStatus" class="list-group-item">Social Status:<span class="form-data" [innerHTML]="coAgent.coAgent.socialStatus | highlight: term"></span></div>
                                            <div *ngIf="coAgent.coAgent.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="coAgent.coAgent.patronyme | highlight: term"></span></div>
                                            <div *ngIf="coAgent.coAgent.relatedTo" class="list-group-item">Related To:<span class="form-data" [innerHTML]="coAgent.coAgent.relatedTo | highlight: term"></span></div>
                                        </div>
                                    </div>
                                    <div *ngSwitchCase="'female'">
                                        <div class="row no-gutters mb-3">
                                            <div class="col-6">
                                                <div *ngIf="coAgent.coAgent.familyStatus" class="list-group-item">Family Status:<span class="form-data" [innerHTML]="coAgent.coAgent.familyStatus"></span></div>
                                                <div *ngIf="coAgent.coAgent.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="coAgent.coAgent.patronyme"></span></div>
                                            </div>
                                            <div class="col-6">
                                                <div *ngIf="coAgent.coAgent.firstName" class="list-group-item">First Name:<span class="form-data" [innerHTML]="coAgent.coAgent.firstName"></span></div>
                                                <div *ngIf="coAgent.coAgent.relatedTo" class="list-group-item">Related To:<span class="form-data" [innerHTML]="coAgent.coAgent.relatedTo"></span></div>
                                            </div>
                                        </div>
                                        <div *ngIf="coAgent.coAgent.referentMale" class="row no-gutters mb-3">
                                            <h6 class="text-center col-12"><em>Referent Male</em></h6>
                                            <div class="col-6">
                                                <div *ngIf="coAgent.coAgent.referentMale.relationshipToCoAgent" class="list-group-item">Relationship To Co-Agent:<span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.relationshipToCoAgent | highlight: term"></span></div>
                                                <div *ngIf="coAgent.coAgent.referentMale.socialStatus" class="list-group-item">Social Status:<span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.socialStatus | highlight: term"></span></div>
                                                <div *ngIf="coAgent.coAgent.referentMale.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.patronyme | highlight: term"></span></div>
                                            </div>
                                            <div class="col-6">
                                                <div *ngIf="coAgent.coAgent.referentMale.geogrStatus" class="list-group-item">Geogr Status:<span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.geogrStatus | highlight: term"></span></div>                                                    
                                                <div *ngIf="coAgent.coAgent.referentMale.firstName" class="list-group-item">First Name:<span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.firstName | highlight: term"></span></div>
                                                <div *ngIf="coAgent.coAgent.referentMale.lastName" class="list-group-item">Last Name:<span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.lastName | highlight: term"></span></div>
                                            </div>
                                            <div class="col-12">
                                                <div *ngIf="coAgent.coAgent.referentMale.relatedTo" class="list-group-item">Related To:<span class="form-data" [innerHTML]="coAgent.coAgent.referentMale.relatedTo | highlight: term"></span></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngSwitchCase="'body-corporate'" class="row no-gutters mb-3">
                                        <div class="col-6">
                                            <div *ngIf="coAgent.coAgent.geogrStatus" class="list-group-item">Geogr Status:<span class="form-data" [innerHTML]="coAgent.coAgent.geogrStatus | highlight: term"></span></div>
                                            <div *ngIf="coAgent.coAgent.socialStatus" class="list-group-item">Social Status:<span class="form-data" [innerHTML]="coAgent.coAgent.socialStatus | highlight: term"></span></div>
                                            <div *ngIf="coAgent.coAgent.otherSocialStatus" class="list-group-item">Other Social Status:<span class="form-data" [innerHTML]="coAgent.coAgent.otherSocialStatus | highlight: term"></span></div>
                                        </div>
                                        <div class="col-6">
                                            <div *ngIf="coAgent.coAgent.corporationName" class="list-group-item">Corporation Name:<span class="form-data" [innerHTML]="coAgent.coAgent.corporationName | highlight: term"></span></div>
                                            <div *ngIf="coAgent.coAgent.patronyme" class="list-group-item">Patronyme:<span class="form-data" [innerHTML]="coAgent.coAgent.patronyme | highlight: term"></span></div>
                                            <div *ngIf="coAgent.coAgent.nbParticipants" class="list-group-item">Number Of Participants:<span class="form-data" [innerHTML]="coAgent.coAgent.nbParticipants | highlight: term"></span></div>
                                        </div>
                                        <div class="col-12">
                                            <div *ngIf="coAgent.coAgent.names" class="list-group-item">Names:<span class="form-data" [innerHTML]="coAgent.coAgent.names | highlight: term"></span></div>
                                        </div>
                                    </div>
                                </div>
                    </ng-template>

                </div>
            </div>
            <div *ngIf="deed.collectiveCoAgent">
                <div class="card mb-3">
                    <div class="card-header">
                        <div class="row justify-content-center">
                            <div class="col-4">
                                <h4 class="text-center">Collective Co-Agent</h4>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <ul class="list-group">
                            <li *ngIf="deed.collectiveCoAgent.relationToAgent" class="list-group-item"><strong>Collective Co-Agent Relation to Agent: </strong><span class="form-data">{{ deed.collectiveCoAgent.relationToAgent }}</span></li>
                            <li *ngIf="deed.collectiveCoAgent.numberOfParticipants" class="list-group-item"><strong>Collective Co-Agent Number of Participants: </strong><span class="form-data">{{ deed.collectiveCoAgent.numberOfParticipants }}</span></li>
                            <li *ngIf="deed.collectiveCoAgent.statusesNames" class="list-group-item"><strong>Collective Co-Agent Statuses Names: </strong><span class="form-data">{{ deed.collectiveCoAgent.statusesNames }}</span></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- COUNTER AGENTS -->

            
            <div *ngIf="deed.coCounterAgents.length > 0">
                <ng-template ngFor let-coCounterAgent [ngForOf]="deed.coCounterAgents" let-i="index">
                    <div class="card mb-3">
                        <div class="card-header amber lighten-4">
                            <div class="row justify-content-center">
                                <div class="col">
                                    <h4 class="text-center">Co-Counter Agent {{i + 1}}</h4>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <ul class="list-group">
                                <li *ngIf="coCounterAgent.coCounterAgentSex" class="list-group-item"><strong>Co-Counter Agent type: </strong> <span class="form-data">{{ coCounterAgent.coCounterAgentSex }}</span></li>
                                <div [ngSwitch]="coCounterAgent.coCounterAgentSex">
                                    <div *ngSwitchCase="'male'">
                                        <li *ngIf="coCounterAgent.coCounterAgent.geogrStatus" class="list-group-item"><strong>Geogr Status: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.geogrStatus }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.socialStatus" class="list-group-item"><strong>Social Status: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.socialStatus }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.firstName" class="list-group-item"><strong>First Name: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.firstName }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.patronyme }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.lastName" class="list-group-item"><strong>Last Name: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.lastName }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.relatedTo" class="list-group-item"><strong>Related To: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.relatedTo }}</span></li>
                                    </div>
                                    <div *ngSwitchCase="'female'">
                                        <li *ngIf="coCounterAgent.coCounterAgent.familyStatus" class="list-group-item"><strong>Family Status: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.familyStatus }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.firstName" class="list-group-item"><strong>First Name: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.firstName }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.patronyme }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.relatedTo" class="list-group-item"><strong>Related To: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.relatedTo }}</span></li>
                                        <div *ngIf="coCounterAgent.coCounterAgent.referentMale" class="card mb-3">
                                            <div class="card-header">
                                                <h5 class="text-center">Referent Male</h5>
                                            </div>
                                            <div class="card-body">
                                                <ul class="list-group">
                                                    <li *ngIf="coCounterAgent.coCounterAgent.referentMale.relationshipToAgent" class="list-group-item"><strong>Relationship To Co-Agent: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.referentMale.relationshipToAgent }}</span></li>
                                                    <li *ngIf="coCounterAgent.coCounterAgent.referentMale.geogrStatus" class="list-group-item"><strong>Geogr Status: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.referentMale.geogrStatus }}</span></li>
                                                    <li *ngIf="coCounterAgent.coCounterAgent.referentMale.socialStatus" class="list-group-item"><strong>Social Status: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.referentMale.socialStatus }}</span></li>
                                                    <li *ngIf="coCounterAgent.coCounterAgent.referentMale.firstName" class="list-group-item"><strong>First Name: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.referentMale.firstName }}</span></li>
                                                    <li *ngIf="coCounterAgent.coCounterAgent.referentMale.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.referentMale.patronyme }}</span></li>
                                                    <li *ngIf="coCounterAgent.coCounterAgent.referentMale.lastName" class="list-group-item"><strong>Last Name: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.referentMale.lastName }}</span></li>
                                                    <li *ngIf="coCounterAgent.coCounterAgent.referentMale.relatedTo" class="list-group-item"><strong>Related To: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.referentMale.relatedTo }}</span></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngSwitchCase="'body-corporate'">
                                        <li *ngIf="coCounterAgent.coCounterAgent.geogrStatus" class="list-group-item"><strong>Geogr Status: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.geogrStatus }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.socialStatus" class="list-group-item"><strong>Social Status: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.socialStatus }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.otherSocialStatus" class="list-group-item"><strong>Other Social Status: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.otherSocialStatus }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.corporationName" class="list-group-item"><strong>Corporation Name: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.corporationName }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.patronyme }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.nbParticipants" class="list-group-item"><strong>Number Of Participants: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.nbParticipants }}</span></li>
                                        <li *ngIf="coCounterAgent.coCounterAgent.names" class="list-group-item"><strong>Names: </strong><span class="form-data">{{ coCounterAgent.coCounterAgent.names }}</span></li>
                                    </div>
                                </div>
                            </ul>
                        </div>
                    </div>
                </ng-template>
            </div>
            <div *ngIf="deed.collectiveCoCounterAgent">
                <div class="card mb-3">
                    <div class="card-header amber lighten-5">
                        <div class="row justify-content-center">
                            <div class="col-4">
                                <h4 class="text-center">Collective Co-Counter Agent</h4>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <ul class="list-group">
                            <li *ngIf="deed.collectiveCoCounterAgent.relationToAgent" class="list-group-item"><strong>Collective Co-Agent Relation to Agent: </strong><span class="form-data">{{ deed.collectiveCoCounterAgent.relationToAgent }}</span></li>
                            <li *ngIf="deed.collectiveCoCounterAgent.numberOfParticipants" class="list-group-item"><strong>Collective Co-Agent Number of Participants: </strong><span class="form-data">{{ deed.collectiveCoCounterAgent.numberOfParticipants }}</span></li>
                            <li *ngIf="deed.collectiveCoCounterAgent.statusesNames" class="list-group-item"><strong>Collective Co-Agent Statuses Names: </strong><span class="form-data">{{ deed.collectiveCoCounterAgent.statusesNames }}</span></li>
                        </ul>
                    </div>
                </div>
            </div>

        </div> <!-- END Card Block Contracting Parties -->
    </div> <!-- END Card Contracting Parties -->


    <!-- TRANSACTION -->
    <div class="card shadow mb-3">
        <div class="card-body">
            <div class="text-center">
                <h3><i class="fa fa-handshake-o"></i> Transactions</h3>
                <hr class="mt-2 mb-2">
            </div>
            <ng-template ngFor let-transaction [ngForOf]="deed.transactions" let-i="index">
                <div class="card mb-3">
                    <div class="card-header light-blue lighten-3">
                        <div class="row justify-content-center">
                            <div class="col-4">
                                <h4 class="text-center">Transaction {{i + 1}}</h4>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">

                        <!-- AGENT TRANSACTION -->
                        <div *ngIf="transaction.agentAction" class="alert alert-info">
                            <h5 class="text-center p-3">The Agent <span class="text-uppercase">{{ transaction.agentAction }}</span></h5>
                        </div>
                        <li *ngIf="transaction.otherAgentAction" class="list-group-item"><strong>Other Agent Action: </strong><span class="form-data">{{ transaction.otherAgentAction }}</span></li>
                        <li *ngIf="transaction.accusationAgainstAgent" class="list-group-item"><strong>Accusation against Agent: </strong><span class="form-data">{{ transaction.accusationAgainstAgent }}</span></li>
<!--                         <h5 *ngIf="selectedActions[i] === 'what'" class="text-center p-4">What ?</h5>
 -->                        <ng-template ngFor let-agentTransactionObject [ngForOf]="transaction.agentTransactionObjects" let-j="index">
                            <div *ngIf="agentTransactionObject.chattels" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Chattels</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.chattels.type" class="list-group-item"><strong>Chattels Type: </strong><span class="form-data">{{ agentTransactionObject.chattels.type }}</span></li>
                                        <li *ngIf="agentTransactionObject.chattels.origin" class="list-group-item"><strong>Chattels Origin: </strong><span class="form-data">{{ agentTransactionObject.chattels.origin }}</span></li>
                                        <li *ngIf="agentTransactionObject.chattels.description" class="list-group-item"><strong>Chattels Description: </strong><span class="form-data">{{ agentTransactionObject.chattels.description }}</span></li>
                                        <li *ngIf="agentTransactionObject.chattels.price" class="list-group-item"><strong>Chattels Price: </strong><span class="form-data">{{ agentTransactionObject.chattels.price }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.debt" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Debt</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.debt.amount.moscowSilver" class="list-group-item"><strong>Amount in Moscow Silver: </strong><span class="form-data">{{ agentTransactionObject.debt.amount.moscowSilver.rubli }}</span> rubli <span class="form-data">{{ agentTransactionObject.debt.amount.moscowSilver.altyny }}</span> altyny <span class="form-data">{{ agentTransactionObject.debt.amount.moscowSilver.dengi }}</span> den'gi</li>
                                        <li *ngIf="agentTransactionObject.debt.amount.chekhi" class="list-group-item"><strong>Amount in Chekhi: </strong><span class="form-data">{{ agentTransactionObject.debt.amount.chekhi.rubli }}</span> rubli <span class="form-data">{{ agentTransactionObject.debt.amount.chekhi.altyny }}</span> altyny <span class="form-data">{{ agentTransactionObject.debt.amount.chekhi.dengi }}</span> den'gi</li>
                                        <li *ngIf="agentTransactionObject.debt.debtorName" class="list-group-item"><strong>Debtor Name: </strong><span class="form-data">{{ agentTransactionObject.debt.debtorName }}</span></li>
                                        <li *ngIf="agentTransactionObject.debt.debtDate" class="list-group-item"><strong>Debt Date: </strong><span class="form-data">{{ agentTransactionObject.debt.debtDate }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.dependent" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Dependent</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.dependent.familyStatus" class="list-group-item"><strong>Family Status: </strong><span class="form-data">{{ agentTransactionObject.dependent.familyStatus }}</span></li>
                                        <li *ngIf="agentTransactionObject.dependent.firstName" class="list-group-item"><strong>First Name: </strong><span class="form-data">{{ agentTransactionObject.dependent.firstName }}</span></li>
                                        <li *ngIf="agentTransactionObject.dependent.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ agentTransactionObject.dependent.patronyme }}</span></li>
                                        <li *ngIf="agentTransactionObject.dependent.lastName" class="list-group-item"><strong>Last Name: </strong><span class="form-data">{{ agentTransactionObject.dependent.lastName }}</span></li>
                                        <li *ngIf="agentTransactionObject.dependent.relationToAgent" class="list-group-item"><strong>Relation To Agent: </strong><span class="form-data">{{ agentTransactionObject.dependent.relationToAgent }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.forfeit" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Forfeit</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.forfeit.moscowSilver" class="list-group-item"><strong>Amount in Moscow Silver: </strong><span class="form-data">{{ agentTransactionObject.forfeit.moscowSilver.rubli }}</span> rubli <span class="form-data">{{ agentTransactionObject.forfeit.moscowSilver.altyny }}</span> altyny <span class="form-data">{{ agentTransactionObject.forfeit.moscowSilver.dengi }}</span> den'gi</li>
                                        <li *ngIf="agentTransactionObject.forfeit.chekhi" class="list-group-item"><strong>Amount in Chekhi: </strong><span class="form-data">{{ agentTransactionObject.forfeit.chekhi.rubli }}</span> rubli <span class="form-data">{{ agentTransactionObject.forfeit.chekhi.altyny }}</span> altyny <span class="form-data">{{ agentTransactionObject.forfeit.chekhi.dengi }}</span> den'gi</li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.fugitiveSouls" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Fugitive Souls</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.fugitiveSouls.juridicalStatus" class="list-group-item"><strong>Family Status: </strong><span class="form-data">{{ agentTransactionObject.fugitiveSouls.juridicalStatus }}</span></li>
                                        <li *ngIf="agentTransactionObject.fugitiveSouls.numberOfSouls" class="list-group-item"><strong>Number of Souls: </strong><span class="form-data">{{ agentTransactionObject.fugitiveSouls.numberOfSouls.male }}</span> male / <span class="form-data">{{ agentTransactionObject.fugitiveSouls.numberOfSouls.female }}</span> female <span class="form-data">{{ agentTransactionObject.fugitiveSouls.numberOfSouls.operator }} {{ agentTransactionObject.fugitiveSouls.numberOfSouls.households }}</span> households</li>
                                        <li *ngIf="agentTransactionObject.fugitiveSouls.names" class="list-group-item"><strong>Names: </strong><span class="form-data">{{ agentTransactionObject.fugitiveSouls.names }}</span></li>
                                        <li *ngIf="agentTransactionObject.fugitiveSouls.yearsOfRent" class="list-group-item"><strong>Years of Rent: </strong><span class="form-data">{{ agentTransactionObject.fugitiveSouls.yearsOfRent }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.goods" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Goods</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.goods.type" class="list-group-item"><strong>Type: </strong><span class="form-data">{{ agentTransactionObject.goods.type }}</span></li>
                                        <li *ngIf="agentTransactionObject.goods.description" class="list-group-item"><strong>Type: </strong><span class="form-data">{{ agentTransactionObject.goods.description }}</span></li>
                                        <li *ngIf="agentTransactionObject.goods.price.moscowSilver" class="list-group-item"><strong>Price in Moscow Silver: </strong><span class="form-data">{{ agentTransactionObject.goods.price.moscowSilver.rubli }}</span> rubli <span class="form-data">{{ agentTransactionObject.goods.price.moscowSilver.altyny }}</span> altyny <span class="form-data">{{ agentTransactionObject.goods.price.moscowSilver.dengi }}</span> den'gi</li>
                                        <li *ngIf="agentTransactionObject.goods.price.chekhi" class="list-group-item"><strong>Price in Chekhi: </strong><span class="form-data">{{ agentTransactionObject.goods.price.chekhi.rubli }}</span> rubli <span class="form-data">{{ agentTransactionObject.goods.price.chekhi.altyny }}</span> altyny <span class="form-data">{{ agentTransactionObject.goods.price.chekhi.dengi }}</span> den'gi</li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.immovableProperty">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Immovable Property</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.immovableProperty.type" class="list-group-item"><strong>Type: </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.type }}</span></li>
                                        <li *ngIf="agentTransactionObject.immovableProperty.otherImmovablePropertyType" class="list-group-item"><strong>Other Type: </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.otherImmovablePropertyType }}</span></li>
                                        <li *ngIf="agentTransactionObject.immovableProperty.share" class="list-group-item"><strong>Share: </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.share }}</span></li>
                                        <li *ngIf="agentTransactionObject.immovableProperty.otherImmovablePropertyShare" class="list-group-item"><strong>Other Share: </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.otherImmovablePropertyShare }}</span></li>

                                        <li *ngIf="agentTransactionObject.immovableProperty.origin" class="list-group-item"><strong>Origin: </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.origin }}</span></li>
                                        <li *ngIf="agentTransactionObject.immovableProperty.localisation" class="list-group-item"><strong>Localisation: </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.localisation }}</span></li>
                                        <li *ngIf="agentTransactionObject.immovableProperty.neighbours" class="list-group-item"><strong>Neighbours: </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.neighbours }}</span></li>

                                        <li *ngIf="agentTransactionObject.immovableProperty.surface" class="list-group-item"><strong>Surface: </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.surface.chetiVpole }}</span> cheti v pole <span class="form-data">{{ agentTransactionObject.immovableProperty.surface.sazheni.x }}</span> X <span class="form-data">{{ agentTransactionObject.immovableProperty.surface.sazheni.y }}</span> sazheni</li>
                                        <li *ngIf="agentTransactionObject.immovableProperty.population" class="list-group-item"><strong>Population (souls): </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.population.male }}</span> male / <span class="form-data">{{ agentTransactionObject.immovableProperty.population.female }}</span> female <span class="form-data">{{ agentTransactionObject.immovableProperty.population.operator }} {{ agentTransactionObject.immovableProperty.population.households }}</span> households</li>
                                        <li *ngIf="agentTransactionObject.immovableProperty.buildings" class="list-group-item"><strong>Buildings: </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.buildings }}</span></li>
                                        <li *ngIf="agentTransactionObject.immovableProperty.appurtenances" class="list-group-item"><strong>Appurtenances: </strong><span class="form-data">{{ agentTransactionObject.immovableProperty.appurtenances }}</span></li>                        
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.money" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Money</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.money.amount.moscowSilver" class="list-group-item"><strong>Amount in Moscow Silver: </strong><span class="form-data">{{ agentTransactionObject.forfeit.moscowSilver.rubli }}</span> rubli <span class="form-data">{{ agentTransactionObject.forfeit.moscowSilver.altyny }}</span> altyny <span class="form-data">{{ agentTransactionObject.forfeit.moscowSilver.dengi }}</span> den'gi</li>
                                        <li *ngIf="agentTransactionObject.money.amount.chekhi" class="list-group-item"><strong>Amount in Chekhi: </strong><span class="form-data">{{ agentTransactionObject.forfeit.chekhi.rubli }}</span> rubli <span class="form-data">{{ agentTransactionObject.forfeit.chekhi.altyny }}</span> altyny <span class="form-data">{{ agentTransactionObject.forfeit.chekhi.dengi }}</span> den'gi</li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.parent" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Parent</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.parent.coAgentNumber" class="list-group-item"><strong>Co-Agent Number: </strong><span class="form-data">{{ agentTransactionObject.parent.coAgentNumber }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.responsibilities" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Responsabilities</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.responsibilities.description" class="list-group-item"><strong>Description: </strong><span class="form-data">{{ agentTransactionObject.responsibilities.description }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.shareFromEstate" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Share from Estate</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.shareFromEstate.share" class="list-group-item"><strong>Share: </strong><span class="form-data">{{ agentTransactionObject.shareFromEstate.share }}</span></li>
                                        <li *ngIf="agentTransactionObject.shareFromEstate.otherShareFromEstate" class="list-group-item"><strong>Other Share: </strong><span class="form-data">{{ agentTransactionObject.shareFromEstate.otherShareFromEstate }}</span></li>
                                        <li *ngIf="agentTransactionObject.shareFromEstate.description" class="list-group-item"><strong>Description: </strong><span class="form-data">{{ agentTransactionObject.shareFromEstate.description }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.souls" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Souls</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.souls.juridicalStatus" class="list-group-item"><strong>Juridical Status: </strong><span class="form-data">{{ agentTransactionObject.souls.juridicalStatus }}</span></li>
                                        <li *ngIf="agentTransactionObject.souls.numberOfSouls" class="list-group-item"><strong>Number of Souls: </strong><span class="form-data">{{ agentTransactionObject.souls.numberOfSouls.male }}</span> male / <span class="form-data">{{ agentTransactionObject.souls.numberOfSouls.female }}</span> female <span class="form-data">{{ agentTransactionObject.souls.numberOfSouls.operator }} {{ agentTransactionObject.souls.numberOfSouls.households }}</span> households</li>
                                        <li *ngIf="agentTransactionObject.souls.names" class="list-group-item"><strong>Names: </strong><span class="form-data">{{ agentTransactionObject.souls.names }}</span></li>
                                        <li *ngIf="agentTransactionObject.souls.yearsOfRent" class="list-group-item"><strong>Years of Rent: </strong><span class="form-data">{{ agentTransactionObject.souls.yearsOfRent }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.other" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Other object</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.other" class="list-group-item"><strong>Other: </strong><span class="form-data">{{ agentTransactionObject.other }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.asWhom === 'as hired worker'" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">As Hired Worker</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.toDoWhat" class="list-group-item"><strong>To Do: </strong><span class="form-data">{{ agentTransactionObject.toDoWhat }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.asWhom === 'in household'" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">In Household</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.withFamily" class="list-group-item"><strong>With Family: </strong><span class="form-data">{{ agentTransactionObject.withFamily }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.asWhom === 'as contractor'" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">As Contractor</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.activity" class="list-group-item"><strong>Activity: </strong><span class="form-data">{{ agentTransactionObject.activity }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.asWhom === 'as tax-farmer'" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">As Tax-Farmer</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.type" class="list-group-item"><strong>Type: </strong><span class="form-data">{{ agentTransactionObject.type }}</span></li>
                                        <li *ngIf="agentTransactionObject.description" class="list-group-item"><strong>Description: </strong><span class="form-data">{{ agentTransactionObject.description }}</span></li>
                                        <li *ngIf="agentTransactionObject.annualRent" class="list-group-item"><strong>Annual Rent: </strong><span class="form-data">{{ agentTransactionObject.annualRent.rubli }}</span> rubli <span class="form-data">{{ agentTransactionObject.annualRent.altyny }}</span> altyny <span class="form-data">{{ agentTransactionObject.annualRent.dengi }}</span> den'gi</li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="agentTransactionObject.asWhom === 'other'" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">As Tax-Farmer</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="agentTransactionObject.other" class="list-group-item"><strong>Other: </strong><span class="form-data">{{ agentTransactionObject.other }}</span></li>
                                    </ul>
                                </div>
                            </div>
                        </ng-template>


                        <!-- COUNTER AGENT TRANSACTION -->
                        <div *ngIf="transaction.counterAgentAction" class="alert alert-info">
                            <h5 class="text-center p-3">The Counter Agent <span class="text-uppercase">{{ transaction.counterAgentAction }}</span></h5>
                        </div>
                        <li *ngIf="transaction.otherCounterAgentAction" class="list-group-item"><strong>Other Counter Agent Action: </strong><span class="form-data">{{ transaction.otherCounterAgentAction }}</span></li>
                        <li *ngIf="transaction.accusationAgainstCounterAgent" class="list-group-item"><strong>Accusation against Counter-Agent: </strong><span class="form-data">{{ transaction.accusationAgainstCounterAgent }}</span></li>
                        <li *ngIf="transaction.juridicalProcedureStage" class="list-group-item"><strong>Juridical Procedure Stage: </strong><span class="form-data">{{ transaction.juridicalProcedureStage }}</span></li>

                        <ng-template ngFor let-counterAgentTransactionObject [ngForOf]="transaction.counterAgentTransactionObjects" let-j="index">
                            <div *ngIf="counterAgentTransactionObject.chattels" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Chattels</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.chattels.type" class="list-group-item"><strong>Chattels Type: </strong><span class="form-data">{{ counterAgentTransactionObject.chattels.type }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.chattels.origin" class="list-group-item"><strong>Chattels Origin: </strong><span class="form-data">{{ counterAgentTransactionObject.chattels.origin }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.chattels.description" class="list-group-item"><strong>Chattels Description: </strong><span class="form-data">{{ counterAgentTransactionObject.chattels.description }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.chattels.price" class="list-group-item"><strong>Chattels Price: </strong><span class="form-data">{{ counterAgentTransactionObject.chattels.price }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.debt" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Debt</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.debt.amount.moscowSilver" class="list-group-item"><strong>Amount in Moscow Silver: </strong><span class="form-data">{{ counterAgentTransactionObject.debt.amount.moscowSilver.rubli }}</span> rubli <span class="form-data">{{ counterAgentTransactionObject.debt.amount.moscowSilver.altyny }}</span> altyny <span class="form-data">{{ counterAgentTransactionObject.debt.amount.moscowSilver.dengi }}</span> den'gi</li>
                                        <li *ngIf="counterAgentTransactionObject.debt.amount.chekhi" class="list-group-item"><strong>Amount in Chekhi: </strong><span class="form-data">{{ counterAgentTransactionObject.debt.amount.chekhi.rubli }}</span> rubli <span class="form-data">{{ counterAgentTransactionObject.debt.amount.chekhi.altyny }}</span> altyny <span class="form-data">{{ counterAgentTransactionObject.debt.amount.chekhi.dengi }}</span> den'gi</li>
                                        <li *ngIf="counterAgentTransactionObject.debt.debtorName" class="list-group-item"><strong>Debtor Name: </strong><span class="form-data">{{ counterAgentTransactionObject.debt.debtorName }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.debt.debtDate" class="list-group-item"><strong>Debt Date: </strong><span class="form-data">{{ counterAgentTransactionObject.debt.debtDate }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.dependent" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Dependent</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.dependent.familyStatus" class="list-group-item"><strong>Family Status: </strong><span class="form-data">{{ counterAgentTransactionObject.dependent.familyStatus }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.dependent.firstName" class="list-group-item"><strong>First Name: </strong><span class="form-data">{{ counterAgentTransactionObject.dependent.firstName }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.dependent.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ counterAgentTransactionObject.dependent.patronyme }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.dependent.lastName" class="list-group-item"><strong>Last Name: </strong><span class="form-data">{{ counterAgentTransactionObject.dependent.lastName }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.dependent.relationToAgent" class="list-group-item"><strong>Relation To Agent: </strong><span class="form-data">{{ counterAgentTransactionObject.dependent.relationToAgent }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.forfeit" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Forfeit</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.forfeit.moscowSilver" class="list-group-item"><strong>Amount in Moscow Silver: </strong><span class="form-data">{{ counterAgentTransactionObject.forfeit.moscowSilver.rubli }}</span> rubli <span class="form-data">{{ counterAgentTransactionObject.forfeit.moscowSilver.altyny }}</span> altyny <span class="form-data">{{ counterAgentTransactionObject.forfeit.moscowSilver.dengi }}</span> den'gi</li>
                                        <li *ngIf="counterAgentTransactionObject.forfeit.chekhi" class="list-group-item"><strong>Amount in Chekhi: </strong><span class="form-data">{{ counterAgentTransactionObject.forfeit.chekhi.rubli }}</span> rubli <span class="form-data">{{ counterAgentTransactionObject.forfeit.chekhi.altyny }}</span> altyny <span class="form-data">{{ counterAgentTransactionObject.forfeit.chekhi.dengi }}</span> den'gi</li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.fugitiveSouls" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Fugitive Souls</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.fugitiveSouls.juridicalStatus" class="list-group-item"><strong>Family Status: </strong><span class="form-data">{{ counterAgentTransactionObject.fugitiveSouls.juridicalStatus }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.fugitiveSouls.numberOfSouls" class="list-group-item"><strong>Number of Souls: </strong><span class="form-data">{{ counterAgentTransactionObject.fugitiveSouls.numberOfSouls.male }}</span> male / <span class="form-data">{{ counterAgentTransactionObject.fugitiveSouls.numberOfSouls.female }}</span> female <span class="form-data">{{ counterAgentTransactionObject.fugitiveSouls.numberOfSouls.operator }} {{ counterAgentTransactionObject.fugitiveSouls.numberOfSouls.households }}</span> households</li>
                                        <li *ngIf="counterAgentTransactionObject.fugitiveSouls.names" class="list-group-item"><strong>Names: </strong><span class="form-data">{{ counterAgentTransactionObject.fugitiveSouls.names }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.fugitiveSouls.yearsOfRent" class="list-group-item"><strong>Years of Rent: </strong><span class="form-data">{{ counterAgentTransactionObject.fugitiveSouls.yearsOfRent }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.goods" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Goods</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.goods.type" class="list-group-item"><strong>Type: </strong><span class="form-data">{{ counterAgentTransactionObject.goods.type }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.goods.description" class="list-group-item"><strong>Type: </strong><span class="form-data">{{ counterAgentTransactionObject.goods.description }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.goods.price.moscowSilver" class="list-group-item"><strong>Price in Moscow Silver: </strong><span class="form-data">{{ counterAgentTransactionObject.goods.price.moscowSilver.rubli }}</span> rubli <span class="form-data">{{ counterAgentTransactionObject.goods.price.moscowSilver.altyny }}</span> altyny <span class="form-data">{{ counterAgentTransactionObject.goods.price.moscowSilver.dengi }}</span> den'gi</li>
                                        <li *ngIf="counterAgentTransactionObject.goods.price.chekhi" class="list-group-item"><strong>Price in Chekhi: </strong><span class="form-data">{{ counterAgentTransactionObject.goods.price.chekhi.rubli }}</span> rubli <span class="form-data">{{ counterAgentTransactionObject.goods.price.chekhi.altyny }}</span> altyny <span class="form-data">{{ counterAgentTransactionObject.goods.price.chekhi.dengi }}</span> den'gi</li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.immovableProperty">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Immovable Property</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.type" class="list-group-item"><strong>Type: </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.type }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.otherImmovablePropertyType" class="list-group-item"><strong>Other Type: </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.otherImmovablePropertyType }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.share" class="list-group-item"><strong>Share: </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.share }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.otherImmovablePropertyShare" class="list-group-item"><strong>Other Share: </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.otherImmovablePropertyShare }}</span></li>

                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.origin" class="list-group-item"><strong>Origin: </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.origin }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.localisation" class="list-group-item"><strong>Localisation: </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.localisation }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.neighbours" class="list-group-item"><strong>Neighbours: </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.neighbours }}</span></li>

                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.surface" class="list-group-item"><strong>Surface: </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.surface.chetiVpole }}</span> cheti v pole <span class="form-data">{{ counterAgentTransactionObject.immovableProperty.surface.sazheni.x }}</span> X <span class="form-data">{{ counterAgentTransactionObject.immovableProperty.surface.sazheni.y }}</span> sazheni</li>
                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.population" class="list-group-item"><strong>Population (souls): </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.population.male }}</span> male / <span class="form-data">{{ counterAgentTransactionObject.immovableProperty.population.female }}</span> female <span class="form-data">{{ counterAgentTransactionObject.immovableProperty.population.operator }} {{ counterAgentTransactionObject.immovableProperty.population.households }}</span> households</li>
                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.buildings" class="list-group-item"><strong>Buildings: </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.buildings }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.immovableProperty.appurtenances" class="list-group-item"><strong>Appurtenances: </strong><span class="form-data">{{ counterAgentTransactionObject.immovableProperty.appurtenances }}</span></li>                        
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.money" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Money</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.money.amount.moscowSilver" class="list-group-item"><strong>Amount in Moscow Silver: </strong><span class="form-data">{{ counterAgentTransactionObject.money.amount.moscowSilver.rubli }}</span> rubli <span class="form-data">{{ counterAgentTransactionObject.money.amount.moscowSilver.altyny }}</span> altyny <span class="form-data">{{ counterAgentTransactionObject.money.amount.moscowSilver.dengi }}</span> den'gi</li>
                                        <li *ngIf="counterAgentTransactionObject.money.amount.chekhi" class="list-group-item"><strong>Amount in Chekhi: </strong><span class="form-data">{{ counterAgentTransactionObject.money.amount.chekhi.rubli }}</span> rubli <span class="form-data">{{ counterAgentTransactionObject.money.amount.chekhi.altyny }}</span> altyny <span class="form-data">{{ counterAgentTransactionObject.money.amount.chekhi.dengi }}</span> den'gi</li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.parent" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Parent</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.parent.coCounterAgentNumber" class="list-group-item"><strong>Co-Counter Agent Number: </strong><span class="form-data">{{ counterAgentTransactionObject.parent.coCounterAgentNumber }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.responsibilities" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Responsabilities</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.responsibilities.description" class="list-group-item"><strong>Description: </strong><span class="form-data">{{ counterAgentTransactionObject.responsibilities.description }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.shareFromEstate" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Share from Estate</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.shareFromEstate.share" class="list-group-item"><strong>Share: </strong><span class="form-data">{{ counterAgentTransactionObject.shareFromEstate.share }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.shareFromEstate.otherShareFromEstate" class="list-group-item"><strong>Other Share: </strong><span class="form-data">{{ counterAgentTransactionObject.shareFromEstate.otherShareFromEstate }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.shareFromEstate.description" class="list-group-item"><strong>Description: </strong><span class="form-data">{{ counterAgentTransactionObject.shareFromEstate.description }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.souls" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Souls</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.souls.juridicalStatus" class="list-group-item"><strong>Juridical Status: </strong><span class="form-data">{{ counterAgentTransactionObject.souls.juridicalStatus }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.souls.numberOfSouls" class="list-group-item"><strong>Number of Souls: </strong><span class="form-data">{{ counterAgentTransactionObject.souls.numberOfSouls.male }}</span> male / <span class="form-data">{{ counterAgentTransactionObject.souls.numberOfSouls.female }}</span> female <span class="form-data">{{ counterAgentTransactionObject.souls.numberOfSouls.operator }} {{ counterAgentTransactionObject.souls.numberOfSouls.households }}</span> households</li>
                                        <li *ngIf="counterAgentTransactionObject.souls.names" class="list-group-item"><strong>Names: </strong><span class="form-data">{{ counterAgentTransactionObject.souls.names }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.souls.yearsOfRent" class="list-group-item"><strong>Years of Rent: </strong><span class="form-data">{{ counterAgentTransactionObject.souls.yearsOfRent }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.other" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">Other object</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.other" class="list-group-item"><strong>Other: </strong><span class="form-data">{{ counterAgentTransactionObject.other }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.asWhom === 'as hired worker'" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">As Hired Worker</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.toDoWhat" class="list-group-item"><strong>To Do: </strong><span class="form-data">{{ counterAgentTransactionObject.toDoWhat }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.asWhom === 'in household'" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">In Household</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.withFamily" class="list-group-item"><strong>With Family: </strong><span class="form-data">{{ counterAgentTransactionObject.withFamily }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.asWhom === 'as contractor'" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">As Contractor</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.activity" class="list-group-item"><strong>Activity: </strong><span class="form-data">{{ counterAgentTransactionObject.activity }}</span></li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.asWhom === 'as tax-farmer'" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">As Tax-Farmer</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.type" class="list-group-item"><strong>Type: </strong><span class="form-data">{{ counterAgentTransactionObject.type }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.description" class="list-group-item"><strong>Description: </strong><span class="form-data">{{ counterAgentTransactionObject.description }}</span></li>
                                        <li *ngIf="counterAgentTransactionObject.annualRent" class="list-group-item"><strong>Annual Rent: </strong><span class="form-data">{{ counterAgentTransactionObject.annualRent.rubli }}</span> rubli <span class="form-data">{{ counterAgentTransactionObject.annualRent.altyny }}</span> altyny <span class="form-data">{{ counterAgentTransactionObject.annualRent.dengi }}</span> den'gi</li>
                                    </ul>
                                </div>
                            </div>
                            <div *ngIf="counterAgentTransactionObject.asWhom === 'other'" class="card mb-3">
                                <div class="card-header">
                                    <div class="row justify-content-center">
                                        <div class="col-4">
                                            <h5 class="text-center">As Tax-Farmer</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li *ngIf="counterAgentTransactionObject.other" class="list-group-item"><strong>Other: </strong><span class="form-data">{{ counterAgentTransactionObject.other }}</span></li>
                                    </ul>
                                </div>
                            </div>
                        </ng-template>
                    </div>
                </div>
            </ng-template>
        </div> <!-- END TRANSACTIONS card-body-->
    </div> <!-- END TRANSACTIONS CARD-->

    <!-- ACCESSORIES TO CONTRACT -->
    <div class="card shadow mb-3">
        <div class="card-body">
            <div class="text-center">
                <h3><i class="fa fa-eye"></i> Accessories to contract</h3>
                <hr class="mt-2 mb-2">
            </div>
            <div *ngIf="deed.whitnesses.length > 0">
                <ng-template ngFor let-whitness [ngForOf]="deed.whitnesses" let-i="index">
                    <div class="card mb-3">
                        <div class="card-header blue-grey lighten-1">
                            <div class="row justify-content-center">
                                <div class="col-4">
                                    <h5 class="text-center">Whitness {{i + 1}}</h5>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <ul class="list-group">
                                <li *ngIf="whitness.whitness.geogrStatus" class="list-group-item"><strong>Geogr Status: </strong><span class="form-data">{{ whitness.whitness.geogrStatus }}</span></li>
                                <li *ngIf="whitness.whitness.socialStatus" class="list-group-item"><strong>Social Status: </strong><span class="form-data" [innerHTML]="whitness.whitness.socialStatus | highlight: term"></span></li>
                                <li *ngIf="whitness.whitness.firstName" class="list-group-item"><strong>First Name: </strong><span class="form-data">{{ whitness.whitness.firstName }}</span></li>
                                <li *ngIf="whitness.whitness.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ whitness.whitness.patronyme }}</span></li>
                                <li *ngIf="whitness.whitness.lastName" class="list-group-item"><strong>Last Name: </strong><span class="form-data">{{ whitness.whitness.lastName }}</span></li>
                                <li *ngIf="whitness.whitness.relatedTo" class="list-group-item"><strong>Related To: </strong><span class="form-data">{{ whitness.whitness.relatedTo }}</span></li>
                            </ul>
                        </div>
                    </div>
                </ng-template>
            </div>
            <div *ngIf="deed.sureties.length > 0">
                <ng-template ngFor let-surety [ngForOf]="deed.sureties" let-i="index">
                    <div class="card mb-3">
                        <div class="card-header blue-grey lighten-2">
                            <div class="row justify-content-center">
                                <div class="col-4">
                                    <h5 class="text-center">Surety {{ i + 1 }}</h5>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <ul class="list-group">
                                <li *ngIf="surety.surety.geogrStatus" class="list-group-item"><strong>Geogr Status: </strong><span class="form-data">{{ surety.surety.geogrStatus }}</span></li>
                                <li *ngIf="surety.surety.socialStatus" class="list-group-item"><strong>Social Status: </strong><span class="form-data">{{ surety.surety.socialStatus }}</span></li>
                                <li *ngIf="surety.surety.firstName" class="list-group-item"><strong>First Name: </strong><span class="form-data">{{ surety.surety.firstName }}</span></li>
                                <li *ngIf="surety.surety.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ surety.surety.patronyme }}</span></li>
                                <li *ngIf="surety.surety.lastName" class="list-group-item"><strong>Last Name: </strong><span class="form-data">{{ surety.surety.lastName }}</span></li>
                                <li *ngIf="surety.surety.relatedTo" class="list-group-item"><strong>Related To: </strong><span class="form-data">{{ surety.surety.relatedTo }}</span></li>
                            </ul>
                        </div>
                    </div>
                </ng-template>
            </div>
            <div *ngIf="deed.scribe" class="card mb-3">
                <div class="card-header blue-grey lighten-3">
                    <div class="row justify-content-center">
                        <div class="col-4">
                            <h5 class="text-center">Scribe</h5>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <ul class="list-group">
                        <li *ngIf="deed.scribe.geogrStatus" class="list-group-item"><strong>Geogr Status: </strong><span class="form-data">{{ deed.scribe.geogrStatus }}</span></li>
                        <li *ngIf="deed.scribe.socialStatus" class="list-group-item"><strong>Social Status: </strong><span class="form-data">{{ deed.scribe.socialStatus }}</span></li>
                        <li *ngIf="deed.scribe.firstName" class="list-group-item"><strong>First Name: </strong><span class="form-data">{{ deed.scribe.firstName }}</span></li>
                        <li *ngIf="deed.scribe.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ deed.scribe.patronyme }}</span></li>
                        <li *ngIf="deed.scribe.lastName" class="list-group-item"><strong>Last Name: </strong><span class="form-data">{{ deed.scribe.lastName }}</span></li>
                        <li *ngIf="deed.scribe.relatedTo" class="list-group-item"><strong>Related To: </strong><span class="form-data">{{ deed.scribe.relatedTo }}</span></li>
                    </ul>
                </div>
            </div>
            <div *ngIf="deed.otherParticipants.length > 0">
                <ng-template ngFor let-otherParticipant [ngForOf]="deed.otherParticipants" let-i="index">
                    <div class="card mb-3">
                        <div class="card-header blue-grey lighten-4">
                            <div class="row justify-content-center">
                                <div class="col-4">
                                    <h5 class="text-center">Other Participant {{ i + 1 }}</h5>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <ul class="list-group">
                                <li *ngIf="otherParticipant.otherParticipant.role" class="list-group-item"><strong>Role: </strong><span class="form-data">{{ otherParticipant.otherParticipant.role }}</span></li>
                                <li *ngIf="otherParticipant.otherParticipant.geogrStatus" class="list-group-item"><strong>Geogr Status: </strong><span class="form-data">{{ otherParticipant.otherParticipant.geogrStatus }}</span></li>
                                <li *ngIf="otherParticipant.otherParticipant.socialStatus" class="list-group-item"><strong>Social Status: </strong><span class="form-data">{{ otherParticipant.otherParticipant.socialStatus }}</span></li>
                                <li *ngIf="otherParticipant.otherParticipant.firstName" class="list-group-item"><strong>First Name: </strong><span class="form-data">{{ otherParticipant.otherParticipant.firstName }}</span></li>
                                <li *ngIf="otherParticipant.otherParticipant.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ otherParticipant.otherParticipant.patronyme }}</span></li>
                                <li *ngIf="otherParticipant.otherParticipant.lastName" class="list-group-item"><strong>Last Name: </strong><span class="form-data">{{ otherParticipant.otherParticipant.lastName }}</span></li>
                                <li *ngIf="otherParticipant.otherParticipant.relatedTo" class="list-group-item"><strong>Related To: </strong><span class="form-data">{{ otherParticipant.otherParticipant.relatedTo }}</span></li>
                            </ul>
                        </div>
                    </div>
                </ng-template>
            </div>


        </div> <!-- END card-body ACCESSORIES TO CONTRACT -->
    </div> <!-- END CARD ACCESSORIES TO CONTRACT -->



    <!-- REGISTRATION -->
    <div class="card shadow mb-3">
        <div class="card-body">
            <div class="text-center">
                <h3><i class="fa fa-pencil-square-o"></i> Registration</h3>
                <hr class="mt-2 mb-2">
            </div>
            <ul class="list-group">
                <li *ngIf="deed.registrationDate" class="list-group-item"><strong>Registration Date: </strong> <span class="form-data">{{ deed.registrationDate }}</span></li>
            </ul>
            <div *ngIf="deed.registrator" class="card mb-3">
                <div class="card-header">
                    <div class="row justify-content-center">
                        <div class="col-4">
                            <h5 class="text-center">Registrator</h5>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <ul class="list-group">
                        <li *ngIf="deed.registrator.firstName" class="list-group-item"><strong>First Name: </strong><span class="form-data">{{ deed.registrator.firstName }}</span></li>
                        <li *ngIf="deed.registrator.patronyme" class="list-group-item"><strong>Patronyme: </strong><span class="form-data">{{ deed.registrator.patronyme }}</span></li>
                        <li *ngIf="deed.registrator.lastName" class="list-group-item"><strong>Last Name: </strong><span class="form-data">{{ deed.registrator.lastName }}</span></li>
                        <li *ngIf="deed.registrator.relatedTo" class="list-group-item"><strong>Related To: </strong><span class="form-data">{{ deed.registrator.relatedTo }}</span></li>
                    </ul>
                </div>
            </div>
            <div *ngIf="deed.fees.tax  || deed.fees.fee" class="card mb-3">
                <div class="card-header">
                    <div class="row justify-content-center">
                        <div class="col-4">
                            <h5 class="text-center">Fees</h5>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <ul class="list-group">
                        <li *ngIf="deed.fees.tax" class="list-group-item"><strong>Tax: </strong><span class="form-data">{{ deed.fees.tax.roubles }}</span> roubles <span class="form-data">{{ deed.fees.tax.altyn }}</span> altyn <span class="form-data">{{ deed.fees.tax.denga }}</span> den'ga</li>
                        <li *ngIf="deed.fees.fee" class="list-group-item"><strong>Fee: </strong><span class="form-data">{{ deed.fees.fee.roubles }}</span> roubles <span class="form-data">{{ deed.fees.fee.altyn }}</span> altyn <span class="form-data">{{ deed.fees.fee.denga }}</span> den'ga</li>
                    </ul>
                </div>
            </div>


        </div> <!-- END card-body REGISTRATION TO CONTRACT -->
    </div> <!-- END CARD REGISTRATION TO CONTRACT -->
</div>
